{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import AdminDashboard from'./AdminDashboard';import UserDashboard from'./UserDashboard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[message,setMessage]=useState('');const[userInfo,setUserInfo]=useState(null);const handleSubmit=async event=>{event.preventDefault();try{const response=await axios.post('http://localhost:5006/api/authenticate',{username,password});setUserInfo(response.data);setMessage('Login successful');}catch(error){setMessage('Login failed');}};if(userInfo){if(username==='admin'&&password==='admin'){return/*#__PURE__*/_jsx(AdminDashboard,{});}else{return/*#__PURE__*/_jsx(UserDashboard,{});}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{children:message})]});}export default Login;","map":{"version":3,"names":["React","useState","axios","AdminDashboard","UserDashboard","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","message","setMessage","userInfo","setUserInfo","handleSubmit","event","preventDefault","response","post","data","error","children","onSubmit","type","value","onChange","e","target"],"sources":["C:/Users/tenci/OneDrive/Escritorio/Nueva carpeta/TREN_Aplicaci-n_web_cobros/TrainApp/src/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport AdminDashboard from './AdminDashboard';\r\nimport UserDashboard from './UserDashboard';\r\n\r\nfunction Login() {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [userInfo, setUserInfo] = useState(null);\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const response = await axios.post('http://localhost:5006/api/authenticate', {\r\n                username,\r\n                password,\r\n            });\r\n            setUserInfo(response.data);\r\n            setMessage('Login successful');\r\n        } catch (error) {\r\n            setMessage('Login failed');\r\n        }\r\n    };\r\n\r\n    if (userInfo) {\r\n        if (username === 'admin' && password === 'admin') {\r\n            return <AdminDashboard />;\r\n        } else {\r\n            return <UserDashboard />;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Login</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <div>\r\n                    <label>Username:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={username}\r\n                        onChange={(e) => setUsername(e.target.value)}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label>Password:</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                    />\r\n                </div>\r\n                <button type=\"submit\">Login</button>\r\n            </form>\r\n            {message && <p>{message}</p>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACb,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACe,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAE9C,KAAM,CAAAiB,YAAY,CAAG,KAAO,CAAAC,KAAK,EAAK,CAClCA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtB,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAnB,KAAK,CAACoB,IAAI,CAAC,wCAAwC,CAAE,CACxEZ,QAAQ,CACRE,QACJ,CAAC,CAAC,CACFK,WAAW,CAACI,QAAQ,CAACE,IAAI,CAAC,CAC1BR,UAAU,CAAC,kBAAkB,CAAC,CAClC,CAAE,MAAOS,KAAK,CAAE,CACZT,UAAU,CAAC,cAAc,CAAC,CAC9B,CACJ,CAAC,CAED,GAAIC,QAAQ,CAAE,CACV,GAAIN,QAAQ,GAAK,OAAO,EAAIE,QAAQ,GAAK,OAAO,CAAE,CAC9C,mBAAON,IAAA,CAACH,cAAc,GAAE,CAAC,CAC7B,CAAC,IAAM,CACH,mBAAOG,IAAA,CAACF,aAAa,GAAE,CAAC,CAC5B,CACJ,CAEA,mBACII,KAAA,QAAAiB,QAAA,eACInB,IAAA,OAAAmB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdjB,KAAA,SAAMkB,QAAQ,CAAER,YAAa,CAAAO,QAAA,eACzBjB,KAAA,QAAAiB,QAAA,eACInB,IAAA,UAAAmB,QAAA,CAAO,WAAS,CAAO,CAAC,cACxBnB,IAAA,UACIqB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAElB,QAAS,CAChBmB,QAAQ,CAAGC,CAAC,EAAKnB,WAAW,CAACmB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChD,CAAC,EACD,CAAC,cACNpB,KAAA,QAAAiB,QAAA,eACInB,IAAA,UAAAmB,QAAA,CAAO,WAAS,CAAO,CAAC,cACxBnB,IAAA,UACIqB,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEhB,QAAS,CAChBiB,QAAQ,CAAGC,CAAC,EAAKjB,WAAW,CAACiB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChD,CAAC,EACD,CAAC,cACNtB,IAAA,WAAQqB,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,OAAK,CAAQ,CAAC,EAClC,CAAC,CACNX,OAAO,eAAIR,IAAA,MAAAmB,QAAA,CAAIX,OAAO,CAAI,CAAC,EAC3B,CAAC,CAEd,CAEA,cAAe,CAAAL,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}